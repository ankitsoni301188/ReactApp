{"version":3,"sources":["views/users/Users.js","views/users/UsersData.js"],"names":["getBadge","status","Users","props","history","useHistory","queryPage","useLocation","search","match","currentPage","Number","useState","page","setPage","details","setDetails","useEffect","fetched","getUsers","console","log","config","method","headers","a","apiUrl","Configuration","SYSTEM_SETTINGS","API_URL","fetch","then","response","json","data","UserList","JSON","stringify","xl","className","filename","label","key","items","fields","_style","width","sorter","filter","tableFilter","itemsPerPageSelect","itemsPerPage","hover","pagination","activePage","clickableRows","onRowClick","item","push","Userid","scopedSlots","color","Status","index","variant","shape","size","onClick","position","indexOf","newDetails","slice","splice","toggleDetails","includes","show","UserName","Country","usersData","id","name","registered","role"],"mappings":"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","file":"static/js/6.ceb49506.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useHistory, useLocation } from 'react-router-dom'\nimport {\n  CButton,\n  CCollapse,\n  CBadge,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CDataTable,\n  CRow,\n  CPagination\n} from '@coreui/react'\n\nimport usersData from './UsersData'\nimport {Configuration} from '../../Configuration';\nimport TheHeader from  '../../containers/TheHeader'\nimport TheSidebar from  '../../containers/TheSidebar'\nimport TheContent from  '../../containers/TheContent'\nimport { CSVLink, CSVDownload } from \"react-csv\";\n\n// const [items, setItems] = useState(usersData)\n\nconst getBadge = (status)=>{\n  switch (status) {\n    case 'Active': return 'success'\n    case 'Inactive': return 'secondary'\n    case 'Pending': return 'warning'\n    case 'Banned': return 'danger'\n    default: return 'primary'\n  }\n}\n\nconst Users = (props) => {\n  const history = useHistory()\n  const queryPage = useLocation().search.match(/page=([0-9]+)/, '')\n  const currentPage = Number(queryPage && queryPage[1] ? queryPage[1] : 1)\n  const [page, setPage] = useState(currentPage)\n  const [details, setDetails] = useState([])\n\n  const pageChange = newPage => {\n    currentPage !== newPage && history.push(`/users?page=${newPage}`)\n  }\n  const toggleDetails = (index) => {\n    const position = details.indexOf(index)\n    let newDetails = details.slice()\n    if (position !== -1) {\n      newDetails.splice(position, 1)\n    } else {\n      newDetails = [...details, index]\n    }\n    setDetails(newDetails)\n  }\n  const fields = [\n    { key: 'UserName', _style: { width: '40%'} },\n    'Employee',\n    { key: 'Designation', _style: { width: '20%'} },\n    { key: 'PlaceofWorking', _style: { width: '20%'} },\n    { key: 'Mandal', _style: { width: '20%'} },\n    { key: 'District', _style: { width: '20%'} },\n    { key: 'DateofBirth', _style: { width: '20%'} },\n    { key: 'Caste', _style: { width: '20%'} },\n    { key: 'NativeDistrict', _style: { width: '20%'} },\n    { key: 'Qualification', _style: { width: '20%'} },\n    { key: 'VASAppointmentDate', _style: { width: '20%'} },\n    { key: 'VASWorkingFrom', _style: { width: '20%'} },\n\n    \n    { key: 'Password', _style: { width: '0%'} },\n\n    {\n      key: 'show_details',\n      label: '',\n      _style: { width: '1%' },\n      sorter: false,\n      filter: false\n    }\n  ]\n\n  const  headers = [\n    { label: 'UserName', key: 'UserName' },\n    { label: 'Employee', key: 'Employee' },\n    { label: 'Designation', key: 'Designation' },\n    { label: 'PlaceofWorking', key: 'PlaceofWorking' },\n    { label: 'Mandal', key: 'Mandal' },\n    { label: 'District', key: 'District' },\n    { label: 'DateofBirth', key: 'DateofBirth' },\n    { label: 'Caste', key: 'Caste' },\n    { label: 'NativeDistrict', key: 'NativeDistrict' },\n    { label: 'Qualification', key: 'Qualification' },\n    { label: 'VASAppointmentDate', key: 'VASAppointmentDate' },\n    { label: 'VASWorkingFrom', key: 'VASWorkingFrom' },\n  ];\n  useEffect(() => {\n    currentPage !== page && setPage(currentPage)\n  }, [currentPage, page])\n  useEffect(() => {\n    if(!props.fetched) {\n      getUsers();\n    }\n    console.log('mount it!');\n  }, []);\n  const config = {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n    },\n  };\n  const home = () => {\n    props.history.push(\"/dashboard\");\n   }\n\n  const  getUsers = async() => {\n    const apiUrl = Configuration.SYSTEM_SETTINGS.API_URL+'/users';\n    debugger;\n   await fetch(apiUrl,config)\n      .then((response) => response.json())\n      .then((data) => \n      Configuration.UserList = data.response\n      );\n      console.log(\"Data\" + JSON.stringify(Configuration.UserList ));\n  }\n\n  \n  return (\n    <>\n    \n  \n    <CRow>\n    <CCol xl={12}>\n      <CCard>\n        <CCardHeader >\n          <CRow>\n            <CCol>\n            <h5>Users List: </h5> \n            </CCol>\n\n            <CCol>\n            <small className=\"text-muted\"> \n          \n            &nbsp;&nbsp;&nbsp;&nbsp;\n          <CSVLink data={Configuration.UserList}  filename={\"UserList.csv\"} className=\"btn btn-primary float-right\"  headers ={headers} >Download CSV</CSVLink>\n          </small>\n            </CCol>\n          </CRow>\n          \n      \n        </CCardHeader>\n        <CCardBody>\n    <CDataTable\n      items={Configuration.UserList}\n      fields={fields}\n      //columnFilter\n      tableFilter\n      itemsPerPageSelect\n      itemsPerPage={5}\n      hover\n      sorter\n      pagination\n      activePage={page}\n      clickableRows\n      onRowClick={(item) => history.push(`/users/${item.Userid}`)}\n      scopedSlots = {{\n        'status':\n          (item)=>(\n            <td>\n              <CBadge color={getBadge(item.Status)}>\n                {item.status}\n              </CBadge>\n            </td>\n          ),\n        'show_details':\n          (item, index)=>{\n            return (\n              <td className=\"py-2\">\n                <CButton\n                  color=\"primary\"\n                  variant=\"outline\"\n                  shape=\"square\"\n                  size=\"sm\"\n                  onClick={()=>{toggleDetails(index)}}\n                >\n                  {details.includes(index) ? 'Hide' : 'Show'}\n                </CButton>\n              </td>\n              )\n          },\n        'details':\n            (item, index)=>{\n              return (\n              <CCollapse show={details.includes(index)}>\n                <CCardBody>\n                  <h4>\n                    {item.UserName}\n                  </h4>\n                  <p className=\"text-muted\">User since: {item.Country}  {item.Userid}</p>\n                  <CButton size=\"sm\" color=\"success\">\n                    Approve\n                  </CButton>\n                  <CButton size=\"sm\" color=\"danger\" className=\"ml-1\">\n                    Reject\n                  </CButton>\n                </CCardBody>\n              </CCollapse>\n            )\n          }\n      }}\n    />\n           </CCardBody>\n        </CCard>\n      </CCol>\n    </CRow>\n\n    </>\n  )\n}\n\nexport default Users\n","const usersData = [\n  {id: 0, name: 'John Doe', registered: '2018/01/01', role: 'Guest', status: 'Pending'},\n  {id: 1, name: 'Samppa Nori', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 2, name: 'Estavan Lykos', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 3, name: 'Chetan Mohamed', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 4, name: 'Derick Maximinus', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 5, name: 'Friderik Dávid', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 6, name: 'Yiorgos Avraamu', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 7, name: 'Avram Tarasios', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 8, name: 'Quintin Ed', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 9, name: 'Enéas Kwadwo', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 10, name: 'Agapetus Tadeáš', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 11, name: 'Carwyn Fachtna', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 12, name: 'Nehemiah Tatius', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 13, name: 'Ebbe Gemariah', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 14, name: 'Eustorgios Amulius', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 15, name: 'Leopold Gáspár', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 16, name: 'Pompeius René', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 17, name: 'Paĉjo Jadon', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 18, name: 'Micheal Mercurius', registered: '2018/02/01', role: 'Admin', status: 'Inactive'},\n  {id: 19, name: 'Ganesha Dubhghall', registered: '2018/03/01', role: 'Member', status: 'Pending'},\n  {id: 20, name: 'Hiroto Šimun', registered: '2018/01/21', role: 'Staff', status: 'Active'},\n  {id: 21, name: 'Vishnu Serghei', registered: '2018/01/01', role: 'Member', status: 'Active'},\n  {id: 22, name: 'Zbyněk Phoibos', registered: '2018/02/01', role: 'Staff', status: 'Banned'},\n  {id: 23, name: 'Aulus Agmundr', registered: '2018/01/01', role: 'Member', status: 'Pending'},\n  {id: 42, name: 'Ford Prefect', registered: '2001/05/25', role: 'Alien', status: 'Don\\'t panic!'}\n]\n\nexport default usersData\n"],"sourceRoot":""}